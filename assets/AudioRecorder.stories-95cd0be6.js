import{r as o}from"./index-76fb7be0.js";import"./_commonjsHelpers-de833af9.js";var b={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v=o,x=Symbol.for("react.element"),U=Symbol.for("react.fragment"),q=Object.prototype.hasOwnProperty,V=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M={key:!0,ref:!0,__self:!0,__source:!0};function w(e,u,c){var t,d={},l=null,f=null;c!==void 0&&(l=""+c),u.key!==void 0&&(l=""+u.key),u.ref!==void 0&&(f=u.ref);for(t in u)q.call(u,t)&&!M.hasOwnProperty(t)&&(d[t]=u[t]);if(e&&e.defaultProps)for(t in u=e.defaultProps,u)d[t]===void 0&&(d[t]=u[t]);return{$$typeof:x,type:e,key:l,ref:f,props:d,_owner:V.current}}y.Fragment=U;y.jsx=w;y.jsxs=w;b.exports=y;var m=b.exports;function s(e,u){if(!e)throw new Error(u)}function g(e){return e instanceof Error}const _=e=>{const u=o.useRef([]),c=o.useRef(null),t=o.useRef(null),d=o.useCallback(async()=>{if(typeof window>"u")return;s(navigator.mediaDevices,"MediaDevices not supported");const i=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});c.current=i;const n=new MediaRecorder(i);n.onstart=async r=>{var a;(a=e==null?void 0:e.onStart)==null||a.call(e,r,{mediaStream:i})},n.onstop=r=>{var a;(a=e==null?void 0:e.onStop)==null||a.call(e,r,u.current,{mediaStream:i})},n.onpause=r=>{var a;(a=e==null?void 0:e.onPause)==null||a.call(e,r,u.current,{mediaStream:i})},n.onerror=r=>{var a;(a=e==null?void 0:e.onError)==null||a.call(e,r,{mediaStream:i,error:new Error("An error occurred while recording")})},n.onresume=r=>{var a;(a=e==null?void 0:e.onResume)==null||a.call(e,r,u.current,{mediaStream:i})},n.ondataavailable=async r=>{var a;u.current.push(r.data),(a=e==null?void 0:e.onChunk)==null||a.call(e,r,{mediaStream:i})},t.current=n},[e]),l=o.useCallback(async()=>{var i,n;try{if(((i=t.current)==null?void 0:i.state)==="recording")return;u.current=[],await d(),s(t.current,"MediaRecorder not created"),t.current.start(500)}catch(r){const a=g(r)?r.message:"Something went wrong during recording";(n=e==null?void 0:e.onError)==null||n.call(e,new Event(a),{error:r,mediaStream:c.current})}},[e,d]),f=o.useCallback(async()=>{var i,n;try{s(t.current,"MediaRecorder not created"),t.current.stop(),(i=c.current)==null||i.getAudioTracks().forEach(r=>r.stop())}catch(r){const a=g(r)?r.message:"Something went wrong during stopping recording";(n=e==null?void 0:e.onError)==null||n.call(e,new Event(a),{error:r,mediaStream:c.current})}},[e]),k=o.useCallback(async()=>{var i;try{s(t.current,"MediaRecorder not created"),t.current.pause()}catch(n){const r=g(n)?n.message:"Something went wrong during pausing recording";(i=e==null?void 0:e.onError)==null||i.call(e,new Event(r),{error:n,mediaStream:c.current})}},[e]),A=o.useCallback(async()=>{var i;try{s(t.current,"MediaRecorder not created"),t.current.resume()}catch(n){const r=g(n)?n.message:"Something went wrong during resuming recording";(i=e==null?void 0:e.onError)==null||i.call(e,new Event(r),{error:n,mediaStream:c.current})}},[e]);return{start:l,stop:f,pause:k,resume:A}};try{_.displayName="useAudioCapture",_.__docgenInfo={description:"",displayName:"useAudioCapture",props:{onChunk:{defaultValue:null,description:"",name:"onChunk",required:!1,type:{name:"UseAudioCaptureChunkCb"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"UseAudioCaptureErrorCb"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"UseAudioCaptureStartCb"}},onStop:{defaultValue:null,description:"",name:"onStop",required:!1,type:{name:"UseAudioCaptureCb"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"UseAudioCaptureCb"}},onResume:{defaultValue:null,description:"",name:"onResume",required:!1,type:{name:"UseAudioCaptureCb"}}}}}catch{}const R=e=>{const{start:u,stop:c,pause:t,resume:d}=_(e);return m.jsxs("div",{children:[m.jsx("button",{onClick:u,children:"Start Recording"}),m.jsx("button",{onClick:c,children:"Stop Recording"}),m.jsx("button",{onClick:t,children:"Pause Recording"}),m.jsx("button",{onClick:d,children:"Resume Recording"})]})};try{R.displayName="AudioRecorder",R.__docgenInfo={description:"",displayName:"AudioRecorder",props:{onChunk:{defaultValue:null,description:"",name:"onChunk",required:!1,type:{name:"UseAudioCaptureChunkCb"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"UseAudioCaptureErrorCb"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"UseAudioCaptureStartCb"}},onStop:{defaultValue:null,description:"",name:"onStop",required:!1,type:{name:"UseAudioCaptureCb"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"UseAudioCaptureCb"}},onResume:{defaultValue:null,description:"",name:"onResume",required:!1,type:{name:"UseAudioCaptureCb"}}}}}catch{}const O={title:"Example/AudioRecorder",component:R,parameters:{layout:"centered"}},C={};var S,h,E;C.parameters={...C.parameters,docs:{...(S=C.parameters)==null?void 0:S.docs,source:{originalSource:"{}",...(E=(h=C.parameters)==null?void 0:h.docs)==null?void 0:E.source}}};const N=["Basic"];export{C as Basic,N as __namedExportsOrder,O as default};
//# sourceMappingURL=AudioRecorder.stories-95cd0be6.js.map
